<!-- index is to keep track of the elements printed from data
ptext is the part of the string that is to be printed
data is the whole string -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Notepad</title>
    <script>
        function myf(){       
            var tog = document.getElementById('tog');
                tog.style.display = "none";
            var data = "";
            var index = 0;
            var ptext = "";
            index = Number(document.getElementById('index').value);
            ptext = document.getElementById('ptext').value 
            if(index == NaN || index == undefined){
                index = 0;
            }
            data = document.getElementById('data').value;
            if(index<data.length){
                var r;
                r = Math.floor(Math.random()*10)+5
                index += r;
                for(var i = 0; i < index; i++){
                    ptext += data[i];
                }
                document.getElementById('ptext').innerHTML = ptext;
                document.getElementById('show').innerHTML = ptext;
                document.getElementById('index').value = index;
            }
            else{
                document.getElementById('show').innerHTML = data;
            }
        }
        
    </script>
    <style>
        body{
            font-family: "Comic Sans MS", cursive, sans-serif;
            color: whitesmoke;
        }
        h3{
            color:rgba(245, 245, 245, 0.4);
        }
    </style>
</head>
<body style="background-color : rgba(0,0,0)" onkeypress = "myf()">
    <h1>{{ keyword }} :</h1>
    <div id = "tog" >
        <h3>(start typing here......)</h3>
    </div>
    
    <input type = "hidden" name = "data" id = "data" value = "{{ content }}">
    <input type = "hidden" id = "ptext"></input>
    <input type = "hidden" id = "index" value=""></input>
    <p id = "show"></p>
</body>
</html>